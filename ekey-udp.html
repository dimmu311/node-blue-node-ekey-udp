<script type="text/javascript">
    RED.nodes.registerType('ekey-udp',{
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            listenaddress: {value:"",required:true},
            listenport: {value:"",required:true},
            protocol: {value:"",required:true},
        },
        inputs:0,
        outputs:1,
        outputInfo: [
            {
                label: "result",
                types: ["struct"]
            },
        ],
        icon: "file.png",
        label: function() {
            return this.name||"ekey-udp";
        },
        oneditprepare: function() {
            function updateLogLevelOptions() {
                var protocol = $("#node-input-protocol").val();
                //console.log(protocol);
            }
            updateLogLevelOptions();
            $("#node-input-protocol").on("change",function() {
                updateLogLevelOptions();
            });
        }
    });
</script>

<script type="text/html" data-template-name="ekey-udp">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-listenaddress"><i class="fa fa-cogs"></i> udp converter ip address</label>
        <input type="text" id="node-input-listenaddress" placeholder="ip_address">
    </div>
    <div class="form-row">
        <label for="node-input-listenport"><i class="fa fa-cogs"></i> udp converter port</label>
        <input type="text" id="node-input-listenport" placeholder="port">
    </div>
    <div class="form-row">
        <label for="node-input-protocol"><i class="fa fa-random"></i> udp converter protocol</label>
        <select type="text" id="node-input-protocol" style="display: inline-block; width: 70%;">
            <option value="rare" data-i18n="debug.debtab">RARE</option>
            <option value="home" data-i18n="debug.tabcon">HOME</option>
            <option value="multi" data-i18n="debug.hg">MULTI</option>
        </select>
    </div>
</script>

<script type="text/html" data-help-name="ekey-udp">
    <p>A node to receive packets from ekey udp converter.</p>
</script>